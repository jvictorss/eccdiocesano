<!DOCTYPE html>
<html lang="PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/verbum-ecc/css/login.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <title>VerbumECC - Home</title>
<!--    <script src="/verbum-ecc/static/scripts/functions.js"></script>-->
</head>
<body>
    <div id="header"></div>
    <div id="app"></div>
    <div id="footer"></div>
<!--<nav class="navbar navbar-expand-lg bg-body-tertiary">-->
<!--    <div class="container-fluid">-->
<!--        <div class="container">-->
<!--        <a class="navbar-brand" href="home">-->
<!--&lt;!&ndash;            <img src="/static/images/ECC.jpg" width="30" height="24" alt="Verbum Software">&ndash;&gt;-->
<!--            Verbum Software-->
<!--        </a></div>-->
<!--        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">-->
<!--            <span class="navbar-toggler-icon"></span>-->
<!--        </button>-->
<!--        <div class="collapse navbar-collapse" id="navbarNavDropdown">-->
<!--            <ul class="navbar-nav">-->
<!--                <li class="nav-item dropdown">-->
<!--                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">-->
<!--                        Diocese-->
<!--                    </a>-->
<!--                    <ul class="dropdown-menu">-->
<!--                        <li><a class="dropdown-item" onclick="viewDioceses()">Ver Diocese</a></li>-->
<!--                        <li><a class="dropdown-item" href="#">Editar Diocese</a></li>-->
<!--                    </ul>-->
<!--                </li>-->
<!--                <li class="nav-item dropdown">-->
<!--                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">-->
<!--                        Setoriais-->
<!--                    </a>-->
<!--                    <ul class="dropdown-menu">-->
<!--                        <li><a class="dropdown-item" onclick="viewSetores()">Ver Setoriais</a></li>-->
<!--                        <li><a class="dropdown-item" onclick="createSetor()">Criar Setorial</a></li>-->
<!--                    </ul>-->
<!--                </li>-->
<!--                <li class="nav-item dropdown">-->
<!--                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">-->
<!--                        Paróquia-->
<!--                    </a>-->
<!--                    <ul class="dropdown-menu">-->
<!--                        <li><a class="dropdown-item" onclick="viewParoquias()">Ver Paróquias</a></li>-->
<!--                        <li><a class="dropdown-item" onclick="createParoquia()">Criar Paróquia</a></li>-->
<!--                    </ul>-->
<!--                </li>-->
<!--                <li class="nav-item dropdown">-->
<!--                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">-->
<!--                        Casais-->
<!--                    </a>-->
<!--                    <ul class="dropdown-menu">-->
<!--                        <li><a class="dropdown-item" onclick="viewCasal()">Ver Casais</a></li>-->
<!--                        <li><a class="dropdown-item" onclick="createCasal()">Criar Casal</a></li>-->
<!--                    </ul>-->
<!--                </li>-->
<!--                <li class="nav-item dropdown">-->
<!--                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">-->
<!--                        Usuários-->
<!--                    </a>-->
<!--                    <ul class="dropdown-menu">-->
<!--                        <li><a class="dropdown-item" onclick="verUsuarios()">Ver Usuários</a></li>-->
<!--                        <li><a class="dropdown-item" onclick="createUsuario()">Criar Usuário</a></li>-->
<!--                    </ul>-->
<!--                </li>-->
<!--                <button type="button" class="btn-done" onclick="sair()"> Sair </button>-->
<!--            </ul>-->
<!--        </div>-->
<!--    </div>-->
<!--</nav>-->

<!--    <script>-->
<!--        document.getElementById('header').innerHTML = '<object type="text/html" data="navbar.html"></object>';-->
<!--        document.getElementById('footer').innerHTML = '<object type="text/html" data="footer.html"></object>';-->
<!--    </script>-->
<div id="navbar-placeholder"></div>
<div id="js-placeholder"></div>
</body>
</html>

<!--<!DOCTYPE html>-->
<!--<html lang="PT">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>VerbumECC - Home</title>-->
<!--&lt;!&ndash;    <link rel="stylesheet" type="text/css" href="/verbum-ecc/css/create_diocese.css">&ndash;&gt;-->

<!--</head>-->
<!--<body>-->
<!--<div id="header"></div>-->
<!--<div id="app"></div>-->
<!--<div id="footer"></div>-->

<!--<script>-->
<!--    document.getElementById('header').innerHTML = '<object type="text/html" data="navbar.html"></object>';-->
<!--    document.getElementById('footer').innerHTML = '<object type="text/html" data="footer.html"></object>';-->
<!--</script>-->
<!--<script>-->
<!--    fetch('templates/navbar.html')-->
<!--        .then(response => response.text())-->
<!--        .then(data => {-->
<!--            document.getElementById('header').innerHTML = data;-->
<!--        });-->

<!--    fetch('verbum-ecc/v1/templates/footer.html')-->
<!--        .then(response => response.text())-->
<!--        .then(data => {-->
<!--            document.getElementById('footer').innerHTML = data;-->
<!--        });-->
<!--</script>-->
<script src="/scripts/functions.js"></script>
<script>
    const app = Vue.createApp({
        data() {
            return {
                token: localStorage.getItem('jwtToken')
            }
        },
        methods: {
            async fetchData(url) {
                const token = localStorage.getItem('jwtToken');
                if (!token) {
                    alert('Você precisa fazer login para acessar essa funcionalidade.');
                    return;
                }

                const response = await fetch(url, {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });

                if (!response.ok) {
                    console.error('Erro na requisição:', response.statusText);
                    return;
                }

                const data = await response.json();
                return data;
            },
            createDiocese() {
                this.fetchData('/verbum-ecc/v1/diocese/form')
                    .then(data => {
                        // Faça algo com os dados da resposta
                        console.log(data);
                    })
                    .catch(error => {
                        console.error('Erro ao criar diocese:', error);
                    });
            },
            // ... outras funções para outras ações (viewDioceses, createSetor, etc.)
        },
        template: `
                <div>
                    <nav class="navbar"> </nav>
                    <div v-if="token">
<!--                        <h1>Bem-vindo!</h1>-->
<!--                        <button @click="createDiocese">Criar Diocese</button>-->
                        </div>
                    <div v-else>
                        <p>Você precisa fazer login para acessar esta página.</p>
                        <a href="/verbum-ecc/v1/login">Login</a>
                    </div>
                </div>
            `
    }).mount('#app')
</script>
<script>


// <!--    function loadNavbar() {-->
// <!--        fetch('/verbum-ecc/v1/navbar')-->
// <!--            .then(response => response.text())-->
// <!--            .then(data => {-->
// <!--                document.getElementById('header').innerHTML = data;-->
// <!--            });-->
// <!--    }-->

    function loadFooter() {
        fetch('/verbum-ecc/v1/footer')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer').innerHTML = data;
            });
    }

    function loadNavbar() {
        fetch('/verbum-ecc/v1/navbar')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar-placeholder').innerHTML = data;
            });
    }

    // function loadJs() {
    //     fetch('/scripts/functions.js')
    //         .then(response => response.text())
    //         .then(data => {
    //             document.getElementById('js-placeholder').innerHTML = data;
    //         });
    // }

    window.onload = function() {
        // loadJs();
        loadNavbar();
        loadFooter();
    };
</script>

<script>
    const token = localStorage.getItem('jwtToken')
    function createDiocese() {
        window.location.href = '/verbum-ecc/v1/diocese/form';
    }

    function viewDioceses() {
        window.location.href = '/verbum-ecc/v1/diocese/view';
    }

    function createSetor() {
        window.location.href = '/verbum-ecc/v1/setor/form';
    }

    function viewSetores() {
        window.location.href = '/verbum-ecc/v1/setor/view';
    }

    function createParoquia() {
        window.location.href = '/verbum-ecc/v1/paroquia/form';
    }

    function viewParoquias() {
        window.location.href = '/verbum-ecc/v1/paroquia/view';
    }

    function createCasal() {
        window.location.href = '/verbum-ecc/v1/casal/form';
    }

    function viewCasal() {
        window.location.href = '/verbum-ecc/v1/casal/view';
    }

    function createUsuario() {
        window.location.href = '/verbum-ecc/v1/usuario/form'
    }

    function verUsuarios() {
        window.location.href = '/verbum-ecc/v1/usuario/view'
    }

    function sair() {
        window.location.href = '/verbum-ecc/v1/login';
        localStorage.clear();
    }

    async function fetchData(url) {
        const token = localStorage.getItem('jwtToken');
        const response = await fetch(url, {
            headers: {
                'Authorization': `Bearer ${token}`
            }
        });
        // ... (process response)
    }
</script>
<!--</body>-->
<!--</html>-->